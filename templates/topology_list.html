{% extends "base.html" %}
{% block content %}
<h2>网络拓扑列表</h2>
<a href="{{ url_for('topo_bp.topology_add_page') }}" class="btn btn-primary mb-3">
  添加/上传拓扑
</a>
<table class="table table-bordered table-hover">
  <thead>
    <tr>
      <th>设备名称</th>
      <th>IP地址</th>
      <th>类型</th>
      <th>位置</th>
      <th>备注</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for node in nodes %}
    <tr>
      <td>{{ node.device_name }}</td>
      <td>{{ node.ip_address }}</td>
      <td>{{ node.device_type }}</td>
      <td>{{ node.location }}</td>
      <td>{{ node.notes }}</td>
      <td>
        <a href="{{ url_for('topo_bp.topology_edit', node_id=node._id) }}" 
           class="btn btn-info btn-sm">编辑</a>
        <a href="{{ url_for('topo_bp.topology_delete', node_id=node._id) }}" 
           class="btn btn-danger btn-sm"
           onclick="return confirm('确认删除此节点?');">
          删除
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
